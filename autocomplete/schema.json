{
  "settings": {
    "analysis": {
      "analyzer": {
        "autocomplete_ngram": {
          "tokenizer": "whitespace" ,
          "filter": ["lowercase", "my_word_delimiter_index","asciifolding", "shingle_filter", "my_edge_ngram"],
          "char_filter": [ "strip_special_chars" ]
        },
        "autocomplete_simple": {
          "tokenizer": "whitespace" ,
          "filter": ["lowercase", "my_word_delimiter_index", "asciifolding"],
          "char_filter": [ "strip_special_chars" ]
        },
        "autocomplete_search": {
          "tokenizer": "whitespace",
          "filter": ["lowercase", "my_word_delimiter_search", "asciifolding"],
          "char_filter": [ "strip_special_chars" ]
        }
      },
      "char_filter":{
        "strip_special_chars": {
          "type": "mapping",
          "mappings": [
            "- => ",
            "' => "
          ]
        } 
      },
      "filter": {
        "my_word_delimiter_index": {
          "type": "word_delimiter",
          "catenate_numbers": true,
          "catenate_words": true,
          "preserve_original": true
        },
        "my_word_delimiter_search": {
          "type": "word_delimiter",
          "catenate_numbers": true,
          "catenate_words": true
        },
        
        "my_edge_ngram": {
          "type": "edge_ngram",
          "min_gram": 1,
          "max_gram": 20,
          "token_chars": [
            "letter",
            "digit"
          ]
        },
        "shingle_filter": {
          "type": "shingle",
          "output_unigrams": false,
          "output_unigrams_if_no_shingles": true,
          "token_separator": ""
        }
      }
    },
    "number_of_replicas" : 3
  },
  "mappings": {
    "entity": {
      "properties": {
        "entity_ngram": {
          "type": "text",
          "analyzer": "autocomplete_ngram",
          "search_analyzer": "autocomplete_search",
          "norms": { "enabled": false }
        },
        "entity": {
          "type": "text",
          "analyzer": "autocomplete_simple",
          "search_analyzer": "autocomplete_search",
          "norms": { "enabled": false }
        },
    "data": {
      "type": "text"
    },
    "id": {
      "type": "keyword"
    },
    "type": {
      "type": "keyword"
    },
    "weight": {
      "type" : "float"
    }
      }
    }
  }
}



